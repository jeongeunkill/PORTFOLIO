/* ===========================
   Graphic.scss (vertical coverflow)
   =========================== */

.graphic {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden; /* 외부 스크롤 차단 */
}

.graphic-viewport {
  width: 100%;
  height: var(--home-visual-height, 800px); /* Home과 동일 */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  overflow: hidden;
  top: 40px;
  box-sizing: border-box;
  padding-top: clamp(112px, 2vh, 24px);
}

.graphic-title {
  font-size: clamp(28px, 3.2vw, 60px);
  font-weight: 800;
  color: #274067;
  margin: clamp(6px, 1vh, 14px) 0 clamp(14px, 2vh, 24px);
  letter-spacing: 2px;
  text-align: center;
  line-height: 1.1;
  white-space: nowrap; /* 높이 흔들림 방지 */
  margin-top: clamp(10px, 6vh, 20px);   /* ✅ nav 아래로 내림 */
  margin-bottom: clamp(20px, 4vh, 40px);
}

/* 본문 보드 */
.graphic-board {
  /* ◆ 반응형 너비만 추가: 전체가 자연스럽게 축소됨 */
  width: clamp(960px, 92vw, 1440px);

  height: calc(100% - clamp(80px, 12vh, 120px));
  display: grid;
  grid-template-columns: 0.95fr 1.6fr;
  gap: clamp(18px, 2vw, 36px);
  background: transparent;
  /* border-radius: 24px; */
  /* box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); */
  /* padding: clamp(18px, 2vw, 34px); */
  box-sizing: border-box;
  overflow: hidden;
}

/* ────────────────────────── */
/* LEFT PANEL (레퍼런스 매칭) */
/* ────────────────────────── */

.g-left {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: 15px;

  padding-right: clamp(8px, 1vw, 14px);
  border-right: 3px solid rgba(28, 43, 90, 0.1);


  /* ✅ 보더를 안쪽으로 6px 정도 끌어오기 */
  margin-right: 53px;

  @media (max-width: 900px) {
    border-right: 0;
    border-bottom: 1px solid rgba(28, 43, 90, 0.1);
    padding-bottom: 16px;
    margin-right: 0; // 모바일에서는 원래대로
  }
}

/* 제목 (포스터 등) */
.g-left__title {
  font-weight: 800;
  font-size: clamp(45px, 2.1vw, 30px);
  letter-spacing: 1px;
  color: #274067;
  margin: 4px 0 6px;
}

/* 기여도 박스 */
.g-meter {
  width: clamp(200px, 15vw, 230px); /* ◆ 폭만 clamp로 축소되게 */
  height: 100px;
  border: 2px solid #274067;
  padding: 10px 12px 12px;
  box-sizing: border-box;
}

.g-meter__dots {
  display: flex;
  justify-content: space-between;  /* 점들이 균등 간격 */
  align-items: center;
  list-style: none;
  margin: 6px 0 10px;
  padding: 0;
}

.g-meter__dots li {
  width: 26px;
  height: 26px;
  border-radius: 50%;
}
.g-meter__dots li.active {
  background: #274067;             /* 활성 점 */
}

.g-meter__caption {
  display: block;
  font-size: 20px;
  color: #274067;
}

/* 섹션 라벨 (PROGRAM / [작 품]) */
.g-left__label {
  font-weight: 800;
  letter-spacing: 2px;
  color: #274067;
  opacity: .95;
  &.-program { margin-top: 20px; font-size: 26px; }
  &.-works   { margin-top: 20px; font-size: 26px; }
}

/* 프로그램 아이콘 (기본 가로, 필요 시 column) */
.g-left__icons {
  display: flex;
  gap: 12px;

  &.column {                 /* stackPrograms:true */
    flex-direction: column;
    gap: 8px;
    align-items: center;
  }

  img {
    width: 48px;
    height: 48px;
    display: block;
    filter: drop-shadow(0 2px 6px rgba(0,0,0,0.08));
  }
}

/* 작품명 이미지 (여러 장 세로 스택) */
.g-left__works {
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.g-left__workname {
  width: clamp(90px, 16vw, 190px);
  max-width: 100%;
  
  height: auto;
  display: block;
  /* filter: drop-shadow(0 6px 14px rgba(0,0,0,0.08)); */
}


/* 모바일 살짝 축소 */
@media (max-width: 600px) {
  .g-meter       { width: 210px; }
  .g-left__icons img { width: 42px; height: 42px; }
  .g-left__workname  { width: 200px; }
}

/* ============= RIGHT : Vertical Coverflow ============= */
.g-right { position: relative; overflow: hidden; }

.g-swiper.g-swiper--coverflow {
  width: 100%;
  height: 100%;
  /* padding-block: clamp(10px, 1.2vh, 16px);  *//* ◆ 상하 프리뷰 여백도 축소 */
}

/* coverflow 슬라이드 크기/투명도 */
.g-swiper--coverflow .swiper-slide {
  transition: transform .35s ease, opacity .35s ease, filter .35s ease;
  opacity: .45;
  transform: scale(0.88); /* 0.85~0.9 사이 취향대로 */
}
.g-swiper--coverflow .swiper-slide-active {
  opacity: 1;
  transform: scale(1);
  z-index: 2;
}

/* 카드 프레임 */
.g-card-slide {
  /* ◆ 칼럼 폭을 넘지 않게: 기본은 100%, 큰 화면에서만 max 적용 */
  width: 100%;
  max-width: 820px;

  height: 100%;                 /* 세로 전체 유지(바깥 높이 증가 X) */
  border-radius: 8px;
  overflow: hidden;
  /* background: #fff;  */      /* 흰 배경으로 레터박스 자연스럽게 */
  /* box-shadow: 0 12px 28px rgba(0,0,0,.12); */

  /* 이미지 가운데 정렬 */
  display: flex;
  align-items: center;
  justify-content: center;
}
.g-card-slide img {
  width: 100%;
  height: 100%;
  object-fit: contain;           /* cover → contain */
  display: block;
}

/* Swiper 기본 점(필요 시 보이게) — coverflow에선 보통 숨기지만 남겨둠 */
.swiper-pagination-bullet { background: #274067 !important; opacity: .3 !important; }
.swiper-pagination-bullet-active { opacity: 1 !important; }

/* ============= Responsive ============= */
@media (max-width: 1200px) {
  /* ◆ 2컬럼 유지, 보드/카드 모두 칼럼 안에서 축소 */
  .graphic-board {
    width: min(100%, 92vw);
    grid-template-columns: 0.88fr 1.35fr; /* 오른쪽 비율 살짝 축소 */
    gap: 20px;
  }
  .g-left { margin-right: clamp(16px, 2.5vw, 32px); }
  .g-card-slide {
    width: 100%;      /* 칼럼 내부 100% */
    max-width: 720px; /* 카드 최대폭 축소 */
  }
  /* .g-swiper.g-swiper--coverflow { padding-block: 115px; } */
}

/* 900px 이하: 1컬럼 레이아웃 + 왼쪽 패널을 3열 그리드로 재배치 */
@media (max-width: 900px) {
  .graphic-board {
    grid-template-columns: 1fr;   /* 보드는 1열 */
    gap: 18px;
    width: min(100%, 92vw);
  }

  /* 왼쪽 패널: 3열 그리드(같이 줄어듦) */
  .g-left {
    border-right: 0;
    border-bottom: 3px solid rgba(28,43,90,.1);
    padding-bottom: 21px;

    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr)); /* ✅ 3열 고정 */
    column-gap: clamp(12px, 2vw, 24px);
    row-gap: clamp(8px, 1.6vw, 16px);
    justify-items: center;
    align-items: start;
    margin: 0;
    text-align: center;
    width: 100%;
  }

  /* 1열: 포스터 + 기여도 */
  .g-left__title {
    grid-column: 1; grid-row: 1; margin: 0;
    font-size: clamp(28px, 4.2vw, 36px); /* 같이 줄어드는 제목 */
  }
  .g-meter {
    grid-column: 1; grid-row: 2;
    width: min(92%, 220px);  /* ✅ 칼럼 안 비율로 줄어듦 */
    height: auto;
  }

  /* 2열: PROGRAM + 아이콘 */
  .g-left__label.-program { grid-column: 2; grid-row: 1; margin: 0; }
  .g-left__icons          { grid-column: 2; grid-row: 2; }
  .g-left__icons img {
    width: clamp(28px, 7vw, 40px);    /* 세 칼럼과 같은 비율로 축소 */
    height: clamp(28px, 7vw, 40px);
  }

  /* 3열: [작 품] + 네임 이미지 */
  .g-left__label.-works { grid-column: 3; grid-row: 1; margin: 0; }
  .g-left__works        { grid-column: 3; grid-row: 2; }
  .g-left__workname     { width: min(92%, 200px); } /* ✅ 칼럼 폭 기준 */

  /* 스와이퍼는 그 아래 전체폭 */
  .g-right { grid-column: 1 / -1; }

  /* 스와이퍼는 형태 유지 + 크기만 축소 */
  .g-card-slide { width: 100%; max-width: 700px; }
  .g-swiper--coverflow { padding-block: 12px; }
  .g-swiper--coverflow .swiper-slide        { transform: scale(0.9);  opacity: .55; }
  .g-swiper--coverflow .swiper-slide-active { transform: scale(1);    opacity: 1;   }
}


@media (max-width: 600px) {
  .graphic-viewport { height: var(--home-visual-height, 680px); }
  .g-left__icons img { width: 36px; height: 36px; }
  .g-left__workname { width: 180px; }
  .g-card-slide { width: 100%; max-width: 640px; }
  .g-swiper--coverflow{ padding-block: 10px; }
  .g-meter__dots li {
    width: 15px;
    height: 15px;
    border-radius: 50%;
  }
  .g-meter__caption {
    display: block;
    font-size: 14px;
    color: #274067;
  }
}


/* 태블릿/모바일에서 너무 커지지 않게 캡 */
@media (max-width: 900px) {
  .graphic .graphic-title { font-size: clamp(34px, 5.2vw, 72px); }
}

/* 480px 이하: 레이아웃은 900px 기준 유지 + 크기/여백만 더 축소 */
@media (max-width: 480px) {
  /* 1) 보드가 화면 밖으로 나가지 않게 하고 가운데 정렬 */
  .graphic {
    overflow-x: hidden;               /* 혹시 모를 가로 스크롤 차단 */
  }
  .graphic-viewport {
    height: var(--home-visual-height, 520px);
  padding-top: clamp(50px, 2vh, 24px);
}
  .graphic-board {
    width: 85vw;                      /* 고정 최소폭 제거 */
    margin-inline: auto;              /* 가운데 정렬 */
    gap: 23px;        
    background: rgba(255,255,255,0.7);    
    border-radius: 10px;
    padding: clamp(18px, 2vw, 34px);            /* 여백 축소 */
  }
  .graphic-title {
  margin-bottom: clamp(20px, 2.0vh, 40px);
  font-size: 26px !important;
}

  /* 왼쪽 패널도 같이 더 줄이기 */
  .g-left {
    column-gap: 20px;
    row-gap: 7px;
    
    padding: 0px 10px;
    padding-bottom: 18px;
  }
  .g-left__works {
  display: flex;
  flex-direction: column;
  align-items: center;    /* ✅ 가운데 정렬 */
  gap: 8px;
}
  .g-left__title {
    font-size: 17px;
    margin: 12.5px 0 0 0;
     &.long {
    font-size: 15px;   // 5글자 이상일 때 자동으로 줄어듦
  }
  }
  .g-meter {
    width: clamp(90px, 52%, 160px);
    padding: 6px 8px;
  }

.g-meter__dots {
  margin: 1px 0 5px;
}
  .g-meter__dots li { width: 9px; height: 9px; }
  .g-meter__caption { font-size: 10px; }
  .g-left__label { font-size: 16px; letter-spacing: 1px; }
  .g-left__label.-program {
  font-size: clamp(16px, 2.6vw, 22px);  /* 너무 크지 않게 */
  margin-top: 12px;
  text-align: center;
}
  .g-left__label.-works {
  font-size: clamp(16px, 2.6vw, 22px);  /* 너무 크지 않게 */
  margin-top: 12px;
  text-align: center;
}
.g-left__icons {
    gap: 5px !important;   // ← 여기!
  }
  .g-left__icons img {
    width: clamp(15px, 10vw, 28px);
    height: clamp(15px, 10vw, 28px);
    
  }
  .g-left__workname {
  width: clamp(90px, 60%, 180px); /* 반응형 줄이기 */
  margin: 0 auto;                  /* 수평 중앙 보정 */
  display: block;
}

  /* 2) 수직 커버플로우 위/아래 갭 줄이기 */
  .g-swiper.g-swiper--coverflow {
    padding-block: 10px;               /* 상하 프리뷰 여백 최소화 */
  }
  .g-card-slide {
    max-width: 520px;                  /* 카드 자체도 더 작게 */
  }
  .g-swiper--coverflow .swiper-slide {
    transform: scale(0.94);            /* 이웃 슬라이드 확대 → 갭 시각적으로 축소 */
  }
  .g-swiper--coverflow .swiper-slide-active {
    transform: scale(1);
  }
}



